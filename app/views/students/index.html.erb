<div class="container mt-4">
  <h1 class="text-purple mb-4">NCI Students</h1>

  <div class="row mb-4">
    <div class="col">
      <%= form_tag students_path, method: :get, class: 'form-inline' do %>
        <div class="input-group">
          <%= text_field_tag :search, params[:search], class: 'form-control', placeholder: 'Search by student name...' %>
          <%= submit_tag "Search", class: 'btn btn-purple ms-2' %>
        </div>
      <% end %>
    </div>
    <div class="col-auto">
      <%= link_to 'New Student', new_student_path, class: 'btn btn-primary' %>
    </div>
  </div>

  <div class="table-responsive">
    <table class="table table-hover">
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Student Number</th>
          <th>Course</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @students.each do |student| %>
          <tr>
            <td><%= student.name %></td>
            <td><%= student.email %></td>
            <td><%= student.student_number %></td>
            <td><%= student.course %></td>
            <td>
              <%= link_to 'View', student_path(student), class: 'btn btn-sm btn-purple text-white', data: { turbo: false } %>
              <%= link_to 'Edit', edit_student_path(student), class: 'btn btn-sm btn-primary', data: { turbo: false } %>
              <%= button_to 'Delete', student_path(student), 
                  method: :delete,
                  form: { data: { turbo_confirm: 'Are you sure?' } },
                  class: 'btn btn-sm btn-danger',
                  form_class: 'd-inline' %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>

<% content_for :styles do %>
  <style>
    .btn-purple {
      background-color: #800080;
      color: white;
    }
    .text-purple {
      color: #800080;
    }
  </style>
<% end %>
